import{g as s,a4 as p,a7 as d}from"./index-5oEvAc_v.js";function m(n,l){const a=s(null),t=s(null),r=s(!1);return{data:a,error:t,loading:r,fetchData:async o=>{var c,u;r.value=!0,t.value=null;try{const e=p(),i=await d({method:n,url:`https://apieventech.mammutepd.ir${l}`,headers:{"Content-Type":"application/json",...e.access_token&&{Authorization:`Bearer ${e.access_token}`}},...n==="GET"?{params:o}:{data:o}});a.value=i.data}catch(e){a.value=e.response.data,t.value=((u=(c=e.response)==null?void 0:c.data)==null?void 0:u.message)||e.message||"An unexpected error occurred",console.error("API Error:",e)}finally{r.value=!1}}}}export{m as u};
